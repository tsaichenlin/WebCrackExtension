{"ast":null,"code":"import { parseDef } from \"./parseDef.js\";\nimport { getRefs } from \"./Refs.js\";\nconst zodToJsonSchema = (schema, options) => {\n  var _parseDef2;\n  const refs = getRefs(options);\n  const definitions = typeof options === \"object\" && options.definitions ? Object.entries(options.definitions).reduce((acc, _ref) => {\n    var _parseDef;\n    let [name, schema] = _ref;\n    return {\n      ...acc,\n      [name]: (_parseDef = parseDef(schema._def, {\n        ...refs,\n        currentPath: [...refs.basePath, refs.definitionPath, name]\n      }, true)) !== null && _parseDef !== void 0 ? _parseDef : {}\n    };\n  }, {}) : undefined;\n  const name = typeof options === \"string\" ? options : options === null || options === void 0 ? void 0 : options.name;\n  const main = (_parseDef2 = parseDef(schema._def, name === undefined ? refs : {\n    ...refs,\n    currentPath: [...refs.basePath, refs.definitionPath, name]\n  }, false)) !== null && _parseDef2 !== void 0 ? _parseDef2 : {};\n  const combined = name === undefined ? definitions ? {\n    ...main,\n    [refs.definitionPath]: definitions\n  } : main : {\n    $ref: [...(refs.$refStrategy === \"relative\" ? [] : refs.basePath), refs.definitionPath, name].join(\"/\"),\n    [refs.definitionPath]: {\n      ...definitions,\n      [name]: main\n    }\n  };\n  if (refs.target === \"jsonSchema7\") {\n    combined.$schema = \"http://json-schema.org/draft-07/schema#\";\n  } else if (refs.target === \"jsonSchema2019-09\") {\n    combined.$schema = \"https://json-schema.org/draft/2019-09/schema#\";\n  }\n  return combined;\n};\nexport { zodToJsonSchema };","map":{"version":3,"names":["parseDef","getRefs","zodToJsonSchema","schema","options","_parseDef2","refs","definitions","Object","entries","reduce","acc","_ref","_parseDef","name","_def","currentPath","basePath","definitionPath","undefined","main","combined","$ref","$refStrategy","join","target","$schema"],"sources":["/Users/mandylin/Desktop/WebCrack React/webcrack/node_modules/zod-to-json-schema/dist/esm/zodToJsonSchema.js"],"sourcesContent":["import { parseDef } from \"./parseDef.js\";\nimport { getRefs } from \"./Refs.js\";\nconst zodToJsonSchema = (schema, options) => {\n    const refs = getRefs(options);\n    const definitions = typeof options === \"object\" && options.definitions\n        ? Object.entries(options.definitions).reduce((acc, [name, schema]) => ({\n            ...acc,\n            [name]: parseDef(schema._def, {\n                ...refs,\n                currentPath: [...refs.basePath, refs.definitionPath, name],\n            }, true) ?? {},\n        }), {})\n        : undefined;\n    const name = typeof options === \"string\" ? options : options?.name;\n    const main = parseDef(schema._def, name === undefined\n        ? refs\n        : {\n            ...refs,\n            currentPath: [...refs.basePath, refs.definitionPath, name],\n        }, false) ?? {};\n    const combined = name === undefined\n        ? definitions\n            ? {\n                ...main,\n                [refs.definitionPath]: definitions,\n            }\n            : main\n        : {\n            $ref: [\n                ...(refs.$refStrategy === \"relative\" ? [] : refs.basePath),\n                refs.definitionPath,\n                name,\n            ].join(\"/\"),\n            [refs.definitionPath]: {\n                ...definitions,\n                [name]: main,\n            },\n        };\n    if (refs.target === \"jsonSchema7\") {\n        combined.$schema = \"http://json-schema.org/draft-07/schema#\";\n    }\n    else if (refs.target === \"jsonSchema2019-09\") {\n        combined.$schema = \"https://json-schema.org/draft/2019-09/schema#\";\n    }\n    return combined;\n};\nexport { zodToJsonSchema };\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,eAAe;AACxC,SAASC,OAAO,QAAQ,WAAW;AACnC,MAAMC,eAAe,GAAGA,CAACC,MAAM,EAAEC,OAAO,KAAK;EAAA,IAAAC,UAAA;EACzC,MAAMC,IAAI,GAAGL,OAAO,CAACG,OAAO,CAAC;EAC7B,MAAMG,WAAW,GAAG,OAAOH,OAAO,KAAK,QAAQ,IAAIA,OAAO,CAACG,WAAW,GAChEC,MAAM,CAACC,OAAO,CAACL,OAAO,CAACG,WAAW,CAAC,CAACG,MAAM,CAAC,CAACC,GAAG,EAAAC,IAAA;IAAA,IAAAC,SAAA;IAAA,IAAE,CAACC,IAAI,EAAEX,MAAM,CAAC,GAAAS,IAAA;IAAA,OAAM;MACnE,GAAGD,GAAG;MACN,CAACG,IAAI,IAAAD,SAAA,GAAGb,QAAQ,CAACG,MAAM,CAACY,IAAI,EAAE;QAC1B,GAAGT,IAAI;QACPU,WAAW,EAAE,CAAC,GAAGV,IAAI,CAACW,QAAQ,EAAEX,IAAI,CAACY,cAAc,EAAEJ,IAAI;MAC7D,CAAC,EAAE,IAAI,CAAC,cAAAD,SAAA,cAAAA,SAAA,GAAI,CAAC;IACjB,CAAC;EAAA,CAAC,EAAE,CAAC,CAAC,CAAC,GACLM,SAAS;EACf,MAAML,IAAI,GAAG,OAAOV,OAAO,KAAK,QAAQ,GAAGA,OAAO,GAAGA,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEU,IAAI;EAClE,MAAMM,IAAI,IAAAf,UAAA,GAAGL,QAAQ,CAACG,MAAM,CAACY,IAAI,EAAED,IAAI,KAAKK,SAAS,GAC/Cb,IAAI,GACJ;IACE,GAAGA,IAAI;IACPU,WAAW,EAAE,CAAC,GAAGV,IAAI,CAACW,QAAQ,EAAEX,IAAI,CAACY,cAAc,EAAEJ,IAAI;EAC7D,CAAC,EAAE,KAAK,CAAC,cAAAT,UAAA,cAAAA,UAAA,GAAI,CAAC,CAAC;EACnB,MAAMgB,QAAQ,GAAGP,IAAI,KAAKK,SAAS,GAC7BZ,WAAW,GACP;IACE,GAAGa,IAAI;IACP,CAACd,IAAI,CAACY,cAAc,GAAGX;EAC3B,CAAC,GACCa,IAAI,GACR;IACEE,IAAI,EAAE,CACF,IAAIhB,IAAI,CAACiB,YAAY,KAAK,UAAU,GAAG,EAAE,GAAGjB,IAAI,CAACW,QAAQ,CAAC,EAC1DX,IAAI,CAACY,cAAc,EACnBJ,IAAI,CACP,CAACU,IAAI,CAAC,GAAG,CAAC;IACX,CAAClB,IAAI,CAACY,cAAc,GAAG;MACnB,GAAGX,WAAW;MACd,CAACO,IAAI,GAAGM;IACZ;EACJ,CAAC;EACL,IAAId,IAAI,CAACmB,MAAM,KAAK,aAAa,EAAE;IAC/BJ,QAAQ,CAACK,OAAO,GAAG,yCAAyC;EAChE,CAAC,MACI,IAAIpB,IAAI,CAACmB,MAAM,KAAK,mBAAmB,EAAE;IAC1CJ,QAAQ,CAACK,OAAO,GAAG,+CAA+C;EACtE;EACA,OAAOL,QAAQ;AACnB,CAAC;AACD,SAASnB,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}