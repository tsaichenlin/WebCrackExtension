{"ast":null,"code":"// utils/extractWithReadability\n\nimport { Readability } from '@mozilla/readability';\nimport { DOMParser } from 'linkedom';\nimport { isString } from 'bellajs';\nexport default ((html, url = '') => {\n  if (!isString(html)) {\n    return null;\n  }\n  const doc = new DOMParser().parseFromString(html, 'text/html');\n  const base = doc.createElement('base');\n  base.setAttribute('href', url);\n  doc.head.appendChild(base);\n  const reader = new Readability(doc, {\n    keepClasses: true\n  });\n  const result = reader.parse() ?? {};\n  return result.textContent ? result.content : null;\n});\nexport function extractTitleWithReadability(html) {\n  if (!isString(html)) {\n    return null;\n  }\n  const doc = new DOMParser().parseFromString(html, 'text/html');\n  const reader = new Readability(doc);\n  return reader._getArticleTitle() || null;\n}","map":{"version":3,"names":["Readability","DOMParser","isString","html","url","doc","parseFromString","base","createElement","setAttribute","head","appendChild","reader","keepClasses","result","parse","textContent","content","extractTitleWithReadability","_getArticleTitle"],"sources":["/Users/mandylin/Desktop/WebCrack React/webcrack/node_modules/@extractus/article-extractor/src/utils/extractWithReadability.js"],"sourcesContent":["// utils/extractWithReadability\n\nimport { Readability } from '@mozilla/readability'\nimport { DOMParser } from 'linkedom'\nimport { isString } from 'bellajs'\n\nexport default (html, url = '') => {\n  if (!isString(html)) {\n    return null\n  }\n  const doc = new DOMParser().parseFromString(html, 'text/html')\n  const base = doc.createElement('base')\n  base.setAttribute('href', url)\n  doc.head.appendChild(base)\n  const reader = new Readability(doc, {\n    keepClasses: true,\n  })\n  const result = reader.parse() ?? {}\n  return result.textContent ? result.content : null\n}\n\nexport function extractTitleWithReadability (html) {\n  if (!isString(html)) {\n    return null\n  }\n  const doc = new DOMParser().parseFromString(html, 'text/html')\n  const reader = new Readability(doc)\n  return reader._getArticleTitle() || null\n}\n"],"mappings":"AAAA;;AAEA,SAASA,WAAW,QAAQ,sBAAsB;AAClD,SAASC,SAAS,QAAQ,UAAU;AACpC,SAASC,QAAQ,QAAQ,SAAS;AAElC,gBAAe,CAACC,IAAI,EAAEC,GAAG,GAAG,EAAE,KAAK;EACjC,IAAI,CAACF,QAAQ,CAACC,IAAI,CAAC,EAAE;IACnB,OAAO,IAAI;EACb;EACA,MAAME,GAAG,GAAG,IAAIJ,SAAS,CAAC,CAAC,CAACK,eAAe,CAACH,IAAI,EAAE,WAAW,CAAC;EAC9D,MAAMI,IAAI,GAAGF,GAAG,CAACG,aAAa,CAAC,MAAM,CAAC;EACtCD,IAAI,CAACE,YAAY,CAAC,MAAM,EAAEL,GAAG,CAAC;EAC9BC,GAAG,CAACK,IAAI,CAACC,WAAW,CAACJ,IAAI,CAAC;EAC1B,MAAMK,MAAM,GAAG,IAAIZ,WAAW,CAACK,GAAG,EAAE;IAClCQ,WAAW,EAAE;EACf,CAAC,CAAC;EACF,MAAMC,MAAM,GAAGF,MAAM,CAACG,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC;EACnC,OAAOD,MAAM,CAACE,WAAW,GAAGF,MAAM,CAACG,OAAO,GAAG,IAAI;AACnD,CAAC;AAED,OAAO,SAASC,2BAA2BA,CAAEf,IAAI,EAAE;EACjD,IAAI,CAACD,QAAQ,CAACC,IAAI,CAAC,EAAE;IACnB,OAAO,IAAI;EACb;EACA,MAAME,GAAG,GAAG,IAAIJ,SAAS,CAAC,CAAC,CAACK,eAAe,CAACH,IAAI,EAAE,WAAW,CAAC;EAC9D,MAAMS,MAAM,GAAG,IAAIZ,WAAW,CAACK,GAAG,CAAC;EACnC,OAAOO,MAAM,CAACO,gBAAgB,CAAC,CAAC,IAAI,IAAI;AAC1C"},"metadata":{},"sourceType":"module","externalDependencies":[]}