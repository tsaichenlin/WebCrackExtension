{"ast":null,"code":"import { parseDef } from \"./parseDef.js\";\nimport { getRefs } from \"./Refs.js\";\nconst zodToJsonSchema = (schema, options) => {\n  const refs = getRefs(options);\n  const definitions = typeof options === \"object\" && options.definitions ? Object.entries(options.definitions).reduce((acc, [name, schema]) => ({\n    ...acc,\n    [name]: parseDef(schema._def, {\n      ...refs,\n      currentPath: [...refs.basePath, refs.definitionPath, name]\n    }, true) ?? {}\n  }), {}) : undefined;\n  const name = typeof options === \"string\" ? options : options?.name;\n  const main = parseDef(schema._def, name === undefined ? refs : {\n    ...refs,\n    currentPath: [...refs.basePath, refs.definitionPath, name]\n  }, false) ?? {};\n  const combined = name === undefined ? definitions ? {\n    ...main,\n    [refs.definitionPath]: definitions\n  } : main : {\n    $ref: [...(refs.$refStrategy === \"relative\" ? [] : refs.basePath), refs.definitionPath, name].join(\"/\"),\n    [refs.definitionPath]: {\n      ...definitions,\n      [name]: main\n    }\n  };\n  if (refs.target === \"jsonSchema7\") {\n    combined.$schema = \"http://json-schema.org/draft-07/schema#\";\n  } else if (refs.target === \"jsonSchema2019-09\") {\n    combined.$schema = \"https://json-schema.org/draft/2019-09/schema#\";\n  }\n  return combined;\n};\nexport { zodToJsonSchema };","map":{"version":3,"names":["parseDef","getRefs","zodToJsonSchema","schema","options","refs","definitions","Object","entries","reduce","acc","name","_def","currentPath","basePath","definitionPath","undefined","main","combined","$ref","$refStrategy","join","target","$schema"],"sources":["/Users/mandylin/Desktop/WebCrack React/webcrack/node_modules/zod-to-json-schema/dist/esm/zodToJsonSchema.js"],"sourcesContent":["import { parseDef } from \"./parseDef.js\";\nimport { getRefs } from \"./Refs.js\";\nconst zodToJsonSchema = (schema, options) => {\n    const refs = getRefs(options);\n    const definitions = typeof options === \"object\" && options.definitions\n        ? Object.entries(options.definitions).reduce((acc, [name, schema]) => ({\n            ...acc,\n            [name]: parseDef(schema._def, {\n                ...refs,\n                currentPath: [...refs.basePath, refs.definitionPath, name],\n            }, true) ?? {},\n        }), {})\n        : undefined;\n    const name = typeof options === \"string\" ? options : options?.name;\n    const main = parseDef(schema._def, name === undefined\n        ? refs\n        : {\n            ...refs,\n            currentPath: [...refs.basePath, refs.definitionPath, name],\n        }, false) ?? {};\n    const combined = name === undefined\n        ? definitions\n            ? {\n                ...main,\n                [refs.definitionPath]: definitions,\n            }\n            : main\n        : {\n            $ref: [\n                ...(refs.$refStrategy === \"relative\" ? [] : refs.basePath),\n                refs.definitionPath,\n                name,\n            ].join(\"/\"),\n            [refs.definitionPath]: {\n                ...definitions,\n                [name]: main,\n            },\n        };\n    if (refs.target === \"jsonSchema7\") {\n        combined.$schema = \"http://json-schema.org/draft-07/schema#\";\n    }\n    else if (refs.target === \"jsonSchema2019-09\") {\n        combined.$schema = \"https://json-schema.org/draft/2019-09/schema#\";\n    }\n    return combined;\n};\nexport { zodToJsonSchema };\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,eAAe;AACxC,SAASC,OAAO,QAAQ,WAAW;AACnC,MAAMC,eAAe,GAAGA,CAACC,MAAM,EAAEC,OAAO,KAAK;EACzC,MAAMC,IAAI,GAAGJ,OAAO,CAACG,OAAO,CAAC;EAC7B,MAAME,WAAW,GAAG,OAAOF,OAAO,KAAK,QAAQ,IAAIA,OAAO,CAACE,WAAW,GAChEC,MAAM,CAACC,OAAO,CAACJ,OAAO,CAACE,WAAW,CAAC,CAACG,MAAM,CAAC,CAACC,GAAG,EAAE,CAACC,IAAI,EAAER,MAAM,CAAC,MAAM;IACnE,GAAGO,GAAG;IACN,CAACC,IAAI,GAAGX,QAAQ,CAACG,MAAM,CAACS,IAAI,EAAE;MAC1B,GAAGP,IAAI;MACPQ,WAAW,EAAE,CAAC,GAAGR,IAAI,CAACS,QAAQ,EAAET,IAAI,CAACU,cAAc,EAAEJ,IAAI;IAC7D,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC;EACjB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GACLK,SAAS;EACf,MAAML,IAAI,GAAG,OAAOP,OAAO,KAAK,QAAQ,GAAGA,OAAO,GAAGA,OAAO,EAAEO,IAAI;EAClE,MAAMM,IAAI,GAAGjB,QAAQ,CAACG,MAAM,CAACS,IAAI,EAAED,IAAI,KAAKK,SAAS,GAC/CX,IAAI,GACJ;IACE,GAAGA,IAAI;IACPQ,WAAW,EAAE,CAAC,GAAGR,IAAI,CAACS,QAAQ,EAAET,IAAI,CAACU,cAAc,EAAEJ,IAAI;EAC7D,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;EACnB,MAAMO,QAAQ,GAAGP,IAAI,KAAKK,SAAS,GAC7BV,WAAW,GACP;IACE,GAAGW,IAAI;IACP,CAACZ,IAAI,CAACU,cAAc,GAAGT;EAC3B,CAAC,GACCW,IAAI,GACR;IACEE,IAAI,EAAE,CACF,IAAId,IAAI,CAACe,YAAY,KAAK,UAAU,GAAG,EAAE,GAAGf,IAAI,CAACS,QAAQ,CAAC,EAC1DT,IAAI,CAACU,cAAc,EACnBJ,IAAI,CACP,CAACU,IAAI,CAAC,GAAG,CAAC;IACX,CAAChB,IAAI,CAACU,cAAc,GAAG;MACnB,GAAGT,WAAW;MACd,CAACK,IAAI,GAAGM;IACZ;EACJ,CAAC;EACL,IAAIZ,IAAI,CAACiB,MAAM,KAAK,aAAa,EAAE;IAC/BJ,QAAQ,CAACK,OAAO,GAAG,yCAAyC;EAChE,CAAC,MACI,IAAIlB,IAAI,CAACiB,MAAM,KAAK,mBAAmB,EAAE;IAC1CJ,QAAQ,CAACK,OAAO,GAAG,+CAA+C;EACtE;EACA,OAAOL,QAAQ;AACnB,CAAC;AACD,SAAShB,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}