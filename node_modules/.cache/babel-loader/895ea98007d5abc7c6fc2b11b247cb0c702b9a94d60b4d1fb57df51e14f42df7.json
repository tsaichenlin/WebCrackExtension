{"ast":null,"code":"import { parseDef } from \"../parseDef.js\";\nexport function parseObjectDefX(def, refs) {\n  Object.keys(def.shape()).reduce((schema, key) => {\n    let prop = def.shape()[key];\n    const isOptional = prop.isOptional();\n    if (!isOptional) {\n      prop = {\n        ...prop._def.innerSchema\n      };\n    }\n    const propSchema = parseDef(prop._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, \"properties\", key],\n      propertyPath: [...refs.currentPath, \"properties\", key]\n    });\n    if (propSchema !== undefined) {\n      schema.properties[key] = propSchema;\n      if (!isOptional) {\n        if (!schema.required) {\n          schema.required = [];\n        }\n        schema.required.push(key);\n      }\n    }\n    return schema;\n  }, {\n    type: \"object\",\n    properties: {},\n    additionalProperties: def.catchall._def.typeName === \"ZodNever\" ? def.unknownKeys === \"passthrough\" : parseDef(def.catchall._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, \"additionalProperties\"]\n    }) ?? true\n  });\n  const result = {\n    type: \"object\",\n    ...Object.entries(def.shape()).reduce((acc, [propName, propDef]) => {\n      if (propDef === undefined || propDef._def === undefined) return acc;\n      const parsedDef = parseDef(propDef._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, \"properties\", propName],\n        propertyPath: [...refs.currentPath, \"properties\", propName]\n      });\n      if (parsedDef === undefined) return acc;\n      return {\n        properties: {\n          ...acc.properties,\n          [propName]: parsedDef\n        },\n        required: propDef.isOptional() ? acc.required : [...acc.required, propName]\n      };\n    }, {\n      properties: {},\n      required: []\n    }),\n    additionalProperties: def.catchall._def.typeName === \"ZodNever\" ? def.unknownKeys === \"passthrough\" : parseDef(def.catchall._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, \"additionalProperties\"]\n    }) ?? true\n  };\n  if (!result.required.length) delete result.required;\n  return result;\n}\nexport function parseObjectDef(def, refs) {\n  const result = {\n    type: \"object\",\n    ...Object.entries(def.shape()).reduce((acc, [propName, propDef]) => {\n      if (propDef === undefined || propDef._def === undefined) return acc;\n      const parsedDef = parseDef(propDef._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, \"properties\", propName],\n        propertyPath: [...refs.currentPath, \"properties\", propName]\n      });\n      if (parsedDef === undefined) return acc;\n      return {\n        properties: {\n          ...acc.properties,\n          [propName]: parsedDef\n        },\n        required: propDef.isOptional() ? acc.required : [...acc.required, propName]\n      };\n    }, {\n      properties: {},\n      required: []\n    }),\n    additionalProperties: def.catchall._def.typeName === \"ZodNever\" ? def.unknownKeys === \"passthrough\" : parseDef(def.catchall._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, \"additionalProperties\"]\n    }) ?? true\n  };\n  if (!result.required.length) delete result.required;\n  return result;\n}","map":{"version":3,"names":["parseDef","parseObjectDefX","def","refs","Object","keys","shape","reduce","schema","key","prop","isOptional","_def","innerSchema","propSchema","currentPath","propertyPath","undefined","properties","required","push","type","additionalProperties","catchall","typeName","unknownKeys","result","entries","acc","propName","propDef","parsedDef","length","parseObjectDef"],"sources":["/Users/mandylin/Desktop/WebCrack React/webcrack/node_modules/zod-to-json-schema/dist/esm/parsers/object.js"],"sourcesContent":["import { parseDef } from \"../parseDef.js\";\nexport function parseObjectDefX(def, refs) {\n    Object.keys(def.shape()).reduce((schema, key) => {\n        let prop = def.shape()[key];\n        const isOptional = prop.isOptional();\n        if (!isOptional) {\n            prop = { ...prop._def.innerSchema };\n        }\n        const propSchema = parseDef(prop._def, {\n            ...refs,\n            currentPath: [...refs.currentPath, \"properties\", key],\n            propertyPath: [...refs.currentPath, \"properties\", key],\n        });\n        if (propSchema !== undefined) {\n            schema.properties[key] = propSchema;\n            if (!isOptional) {\n                if (!schema.required) {\n                    schema.required = [];\n                }\n                schema.required.push(key);\n            }\n        }\n        return schema;\n    }, {\n        type: \"object\",\n        properties: {},\n        additionalProperties: def.catchall._def.typeName === \"ZodNever\"\n            ? def.unknownKeys === \"passthrough\"\n            : parseDef(def.catchall._def, {\n                ...refs,\n                currentPath: [...refs.currentPath, \"additionalProperties\"],\n            }) ?? true,\n    });\n    const result = {\n        type: \"object\",\n        ...Object.entries(def.shape()).reduce((acc, [propName, propDef]) => {\n            if (propDef === undefined || propDef._def === undefined)\n                return acc;\n            const parsedDef = parseDef(propDef._def, {\n                ...refs,\n                currentPath: [...refs.currentPath, \"properties\", propName],\n                propertyPath: [...refs.currentPath, \"properties\", propName],\n            });\n            if (parsedDef === undefined)\n                return acc;\n            return {\n                properties: { ...acc.properties, [propName]: parsedDef },\n                required: propDef.isOptional()\n                    ? acc.required\n                    : [...acc.required, propName],\n            };\n        }, { properties: {}, required: [] }),\n        additionalProperties: def.catchall._def.typeName === \"ZodNever\"\n            ? def.unknownKeys === \"passthrough\"\n            : parseDef(def.catchall._def, {\n                ...refs,\n                currentPath: [...refs.currentPath, \"additionalProperties\"],\n            }) ?? true,\n    };\n    if (!result.required.length)\n        delete result.required;\n    return result;\n}\nexport function parseObjectDef(def, refs) {\n    const result = {\n        type: \"object\",\n        ...Object.entries(def.shape()).reduce((acc, [propName, propDef]) => {\n            if (propDef === undefined || propDef._def === undefined)\n                return acc;\n            const parsedDef = parseDef(propDef._def, {\n                ...refs,\n                currentPath: [...refs.currentPath, \"properties\", propName],\n                propertyPath: [...refs.currentPath, \"properties\", propName],\n            });\n            if (parsedDef === undefined)\n                return acc;\n            return {\n                properties: { ...acc.properties, [propName]: parsedDef },\n                required: propDef.isOptional()\n                    ? acc.required\n                    : [...acc.required, propName],\n            };\n        }, { properties: {}, required: [] }),\n        additionalProperties: def.catchall._def.typeName === \"ZodNever\"\n            ? def.unknownKeys === \"passthrough\"\n            : parseDef(def.catchall._def, {\n                ...refs,\n                currentPath: [...refs.currentPath, \"additionalProperties\"],\n            }) ?? true,\n    };\n    if (!result.required.length)\n        delete result.required;\n    return result;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}