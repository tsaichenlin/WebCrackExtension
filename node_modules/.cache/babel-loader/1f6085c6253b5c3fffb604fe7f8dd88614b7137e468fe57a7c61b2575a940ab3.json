{"ast":null,"code":"// utils -> retrieve\n\nimport fetch from 'cross-fetch';\nconst profetch = async (url, options = {}) => {\n  const {\n    proxy = {},\n    signal = null\n  } = options;\n  const {\n    target,\n    headers = {}\n  } = proxy;\n  const res = await fetch(target + encodeURIComponent(url), {\n    headers,\n    signal\n  });\n  return res;\n};\nexport default (async (url, options = {}) => {\n  const {\n    headers = {\n      'user-agent': 'Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/115.0'\n    },\n    proxy = null,\n    agent = null,\n    signal = null\n  } = options;\n  const res = proxy ? await profetch(url, {\n    proxy,\n    signal\n  }) : await fetch(url, {\n    headers,\n    agent,\n    signal\n  });\n  const status = res.status;\n  if (status >= 400) {\n    throw new Error(`Request failed with error code ${status}`);\n  }\n  const text = await res.text();\n  return text.trim();\n});","map":{"version":3,"names":["fetch","profetch","url","options","proxy","signal","target","headers","res","encodeURIComponent","agent","status","Error","text","trim"],"sources":["/Users/mandylin/Desktop/WebCrack React/webcrack/node_modules/@extractus/article-extractor/src/utils/retrieve.js"],"sourcesContent":["// utils -> retrieve\n\nimport fetch from 'cross-fetch'\n\nconst profetch = async (url, options = {}) => {\n  const { proxy = {}, signal = null } = options\n  const {\n    target,\n    headers = {},\n  } = proxy\n  const res = await fetch(target + encodeURIComponent(url), {\n    headers,\n    signal,\n  })\n  return res\n}\n\nexport default async (url, options = {}) => {\n  const {\n    headers = {\n      'user-agent': 'Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/115.0',\n    },\n    proxy = null,\n    agent = null,\n    signal = null,\n  } = options\n\n  const res = proxy ? await profetch(url, { proxy, signal }) : await fetch(url, { headers, agent, signal })\n\n  const status = res.status\n  if (status >= 400) {\n    throw new Error(`Request failed with error code ${status}`)\n  }\n  const text = await res.text()\n  return text.trim()\n}\n"],"mappings":"AAAA;;AAEA,OAAOA,KAAK,MAAM,aAAa;AAE/B,MAAMC,QAAQ,GAAG,MAAAA,CAAOC,GAAG,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EAC5C,MAAM;IAAEC,KAAK,GAAG,CAAC,CAAC;IAAEC,MAAM,GAAG;EAAK,CAAC,GAAGF,OAAO;EAC7C,MAAM;IACJG,MAAM;IACNC,OAAO,GAAG,CAAC;EACb,CAAC,GAAGH,KAAK;EACT,MAAMI,GAAG,GAAG,MAAMR,KAAK,CAACM,MAAM,GAAGG,kBAAkB,CAACP,GAAG,CAAC,EAAE;IACxDK,OAAO;IACPF;EACF,CAAC,CAAC;EACF,OAAOG,GAAG;AACZ,CAAC;AAED,gBAAe,OAAON,GAAG,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EAC1C,MAAM;IACJI,OAAO,GAAG;MACR,YAAY,EAAE;IAChB,CAAC;IACDH,KAAK,GAAG,IAAI;IACZM,KAAK,GAAG,IAAI;IACZL,MAAM,GAAG;EACX,CAAC,GAAGF,OAAO;EAEX,MAAMK,GAAG,GAAGJ,KAAK,GAAG,MAAMH,QAAQ,CAACC,GAAG,EAAE;IAAEE,KAAK;IAAEC;EAAO,CAAC,CAAC,GAAG,MAAML,KAAK,CAACE,GAAG,EAAE;IAAEK,OAAO;IAAEG,KAAK;IAAEL;EAAO,CAAC,CAAC;EAEzG,MAAMM,MAAM,GAAGH,GAAG,CAACG,MAAM;EACzB,IAAIA,MAAM,IAAI,GAAG,EAAE;IACjB,MAAM,IAAIC,KAAK,CAAE,kCAAiCD,MAAO,EAAC,CAAC;EAC7D;EACA,MAAME,IAAI,GAAG,MAAML,GAAG,CAACK,IAAI,CAAC,CAAC;EAC7B,OAAOA,IAAI,CAACC,IAAI,CAAC,CAAC;AACpB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}