{"ast":null,"code":"/*\n * Copyright (c) 2010 Arc90 Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/*\n * This code is heavily based on Arc90's readability.js (1.7.1) script\n * available at: http://code.google.com/p/arc90labs-readability\n */\n\nvar REGEXPS = {\n  // NOTE: These two regular expressions are duplicated in\n  // Readability.js. Please keep both copies in sync.\n  unlikelyCandidates: /-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,\n  okMaybeItsACandidate: /and|article|body|column|content|main|shadow/i\n};\nfunction isNodeVisible(node) {\n  // Have to null-check node.style and node.className.indexOf to deal with SVG and MathML nodes.\n  return (!node.style || node.style.display != \"none\") && !node.hasAttribute(\"hidden\")\n  //check for \"fallback-image\" so that wikimedia math images are displayed\n  && (!node.hasAttribute(\"aria-hidden\") || node.getAttribute(\"aria-hidden\") != \"true\" || node.className && node.className.indexOf && node.className.indexOf(\"fallback-image\") !== -1);\n}\n\n/**\n * Decides whether or not the document is reader-able without parsing the whole thing.\n * @param {Object} options Configuration object.\n * @param {number} [options.minContentLength=140] The minimum node content length used to decide if the document is readerable.\n * @param {number} [options.minScore=20] The minumum cumulated 'score' used to determine if the document is readerable.\n * @param {Function} [options.visibilityChecker=isNodeVisible] The function used to determine if a node is visible.\n * @return {boolean} Whether or not we suspect Readability.parse() will suceeed at returning an article object.\n */\nfunction isProbablyReaderable(doc) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  // For backward compatibility reasons 'options' can either be a configuration object or the function used\n  // to determine if a node is visible.\n  if (typeof options == \"function\") {\n    options = {\n      visibilityChecker: options\n    };\n  }\n  var defaultOptions = {\n    minScore: 20,\n    minContentLength: 140,\n    visibilityChecker: isNodeVisible\n  };\n  options = Object.assign(defaultOptions, options);\n  var nodes = doc.querySelectorAll(\"p, pre, article\");\n\n  // Get <div> nodes which have <br> node(s) and append them into the `nodes` variable.\n  // Some articles' DOM structures might look like\n  // <div>\n  //   Sentences<br>\n  //   <br>\n  //   Sentences<br>\n  // </div>\n  var brNodes = doc.querySelectorAll(\"div > br\");\n  if (brNodes.length) {\n    var set = new Set(nodes);\n    [].forEach.call(brNodes, function (node) {\n      set.add(node.parentNode);\n    });\n    nodes = Array.from(set);\n  }\n  var score = 0;\n  // This is a little cheeky, we use the accumulator 'score' to decide what to return from\n  // this callback:\n  return [].some.call(nodes, function (node) {\n    if (!options.visibilityChecker(node)) {\n      return false;\n    }\n    var matchString = node.className + \" \" + node.id;\n    if (REGEXPS.unlikelyCandidates.test(matchString) && !REGEXPS.okMaybeItsACandidate.test(matchString)) {\n      return false;\n    }\n    if (node.matches(\"li p\")) {\n      return false;\n    }\n    var textContentLength = node.textContent.trim().length;\n    if (textContentLength < options.minContentLength) {\n      return false;\n    }\n    score += Math.sqrt(textContentLength - options.minContentLength);\n    if (score > options.minScore) {\n      return true;\n    }\n    return false;\n  });\n}\nif (typeof module === \"object\") {\n  /* global module */\n  module.exports = isProbablyReaderable;\n}","map":{"version":3,"names":["REGEXPS","unlikelyCandidates","okMaybeItsACandidate","isNodeVisible","node","style","display","hasAttribute","getAttribute","className","indexOf","isProbablyReaderable","doc","options","arguments","length","undefined","visibilityChecker","defaultOptions","minScore","minContentLength","Object","assign","nodes","querySelectorAll","brNodes","set","Set","forEach","call","add","parentNode","Array","from","score","some","matchString","id","test","matches","textContentLength","textContent","trim","Math","sqrt","module","exports"],"sources":["/Users/mandylin/Desktop/WebCrack React 2/webcrack/node_modules/@mozilla/readability/Readability-readerable.js"],"sourcesContent":["/*\n * Copyright (c) 2010 Arc90 Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/*\n * This code is heavily based on Arc90's readability.js (1.7.1) script\n * available at: http://code.google.com/p/arc90labs-readability\n */\n\nvar REGEXPS = {\n  // NOTE: These two regular expressions are duplicated in\n  // Readability.js. Please keep both copies in sync.\n  unlikelyCandidates: /-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,\n  okMaybeItsACandidate: /and|article|body|column|content|main|shadow/i,\n};\n\nfunction isNodeVisible(node) {\n  // Have to null-check node.style and node.className.indexOf to deal with SVG and MathML nodes.\n  return (!node.style || node.style.display != \"none\")\n    && !node.hasAttribute(\"hidden\")\n    //check for \"fallback-image\" so that wikimedia math images are displayed\n    && (!node.hasAttribute(\"aria-hidden\") || node.getAttribute(\"aria-hidden\") != \"true\" || (node.className && node.className.indexOf && node.className.indexOf(\"fallback-image\") !== -1));\n}\n\n/**\n * Decides whether or not the document is reader-able without parsing the whole thing.\n * @param {Object} options Configuration object.\n * @param {number} [options.minContentLength=140] The minimum node content length used to decide if the document is readerable.\n * @param {number} [options.minScore=20] The minumum cumulated 'score' used to determine if the document is readerable.\n * @param {Function} [options.visibilityChecker=isNodeVisible] The function used to determine if a node is visible.\n * @return {boolean} Whether or not we suspect Readability.parse() will suceeed at returning an article object.\n */\nfunction isProbablyReaderable(doc, options = {}) {\n  // For backward compatibility reasons 'options' can either be a configuration object or the function used\n  // to determine if a node is visible.\n  if (typeof options == \"function\") {\n    options = { visibilityChecker: options };\n  }\n\n  var defaultOptions = { minScore: 20, minContentLength: 140, visibilityChecker: isNodeVisible };\n  options = Object.assign(defaultOptions, options);\n\n  var nodes = doc.querySelectorAll(\"p, pre, article\");\n\n  // Get <div> nodes which have <br> node(s) and append them into the `nodes` variable.\n  // Some articles' DOM structures might look like\n  // <div>\n  //   Sentences<br>\n  //   <br>\n  //   Sentences<br>\n  // </div>\n  var brNodes = doc.querySelectorAll(\"div > br\");\n  if (brNodes.length) {\n    var set = new Set(nodes);\n    [].forEach.call(brNodes, function (node) {\n      set.add(node.parentNode);\n    });\n    nodes = Array.from(set);\n  }\n\n  var score = 0;\n  // This is a little cheeky, we use the accumulator 'score' to decide what to return from\n  // this callback:\n  return [].some.call(nodes, function (node) {\n    if (!options.visibilityChecker(node)) {\n      return false;\n    }\n\n    var matchString = node.className + \" \" + node.id;\n    if (REGEXPS.unlikelyCandidates.test(matchString) &&\n        !REGEXPS.okMaybeItsACandidate.test(matchString)) {\n      return false;\n    }\n\n    if (node.matches(\"li p\")) {\n      return false;\n    }\n\n    var textContentLength = node.textContent.trim().length;\n    if (textContentLength < options.minContentLength) {\n      return false;\n    }\n\n    score += Math.sqrt(textContentLength - options.minContentLength);\n\n    if (score > options.minScore) {\n      return true;\n    }\n    return false;\n  });\n}\n\nif (typeof module === \"object\") {\n  /* global module */\n  module.exports = isProbablyReaderable;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}